{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/PaginationItem.jsx","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sortBy","updateSortBy","getSortBy","value","bind","PaginationItem","getCheckMinPageClass","getCheckMaxPageClass","maxPage","currentPage","totalPages","switherPage","aria-label","href","disabled","role","aria-disabled","App","sort_by","event","console","log","preventDefault","getMovies","fetch","API_URL","then","response","json","movies","results","total_pages","movie","updateMovies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","push","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.120bfb21.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch\r\n    } = this.props;\r\n    \r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(data);\r\n                  }}\r\n                >\r\n                  Will Watch\r\n              </button>\r\n              )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\n\r\nconst MovieTabs = props => {\r\n\r\n  const {sortBy, updateSortBy} = props;\r\n\r\n  const getSortBy = value => {\r\n    return `nav-link ${sortBy === value ? \"active\" : \"\"}`;\r\n  }\r\n\r\n  return (\r\n    <ul className=\"tabs nav nav-pills\">\r\n      <li className=\"nav-item\">\r\n        <div \r\n          className={getSortBy(\"popularity.desc\")}\r\n          onClick={updateSortBy.bind(null, \"popularity.desc\")}\r\n        >\r\n          Popularity desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div \r\n          className={getSortBy(\"revenue.desc\")}\r\n          onClick={updateSortBy.bind(null, \"revenue.desc\")}\r\n        >\r\n          Revenue desc\r\n        </div>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <div \r\n          className={getSortBy(\"vote_average.desc\")}\r\n          onClick={updateSortBy.bind(null, \"vote_average.desc\")}\r\n        >\r\n          Vote average desc\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default MovieTabs;","import React from \"react\";\r\n\r\nclass PaginationItem extends React.Component {\r\n\r\n  getCheckMinPageClass = value => {\r\n    return `page-link ${value === 1 ? 'd-none' : ''} `;\r\n  }\r\n\r\n  getCheckMaxPageClass = (value, maxPage) => {\r\n    return `page-link ${value === maxPage ? 'd-none' : ''} `;\r\n  }\r\n\r\n  render() {\r\n    const { currentPage, totalPages, switherPage } = this.props;\r\n    return (\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul className=\"pagination\">\r\n          <li className=\"page-item\">\r\n            <a \r\n              className={this.getCheckMinPageClass(currentPage)} \r\n              href=\"!#\"\r\n              onClick={switherPage.bind(null, currentPage - 1)}>\r\n              Previous\r\n            </a>\r\n          </li>\r\n          <li className=\"page-item\">\r\n            <a \r\n              className={this.getCheckMinPageClass(currentPage)} \r\n              href=\"!#\"\r\n              onClick={switherPage.bind(null, currentPage - 1)}>\r\n              { currentPage !== 1 ? currentPage - 1 : \"\"}\r\n            </a>\r\n          </li>\r\n          <li className=\"page-item\" disabled>\r\n            <a \r\n              className=\"page-link btn-primary disabled\" \r\n              href=\"!#\"\r\n              role=\"button\" \r\n              aria-disabled=\"true\">\r\n              { currentPage }\r\n            </a>\r\n          </li>\r\n          <li className=\"page-item\">\r\n            <a \r\n              className={this.getCheckMaxPageClass(currentPage, totalPages)} \r\n              href=\"!#\"\r\n              onClick={switherPage.bind(null, currentPage + 1)}>\r\n              {currentPage + 1}\r\n            </a>\r\n          </li>\r\n          <li className=\"page-item\">\r\n            <a \r\n              className={this.getCheckMaxPageClass(currentPage, totalPages)} \r\n              href=\"!#\"\r\n              onClick={switherPage.bind(null, totalPages)}>\r\n              {totalPages}\r\n            </a>\r\n          </li>\r\n          <li className=\"page-item\">\r\n            <a \r\n              className={this.getCheckMaxPageClass(currentPage, totalPages)} \r\n              href=\"!#\"\r\n              onClick={switherPage.bind(null, currentPage + 1)}>\r\n              Next\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    )\r\n  }\r\n} \r\n\r\nexport default PaginationItem;","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\r\nimport PaginationItem from \"./PaginationItem\";\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"popularity.desc\",\r\n      currentPage: 1,\r\n      totalPages: 0\r\n    };\r\n  }\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      sort_by: value,\r\n      currentPage: 1\r\n    });\r\n  }\r\n\r\n  switherPage = (value, event) => {\r\n    console.log(event.preventDefault())\r\n    event.preventDefault();\r\n    this.setState({\r\n      currentPage: value\r\n    });\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(API_URL + \"/discover/movie?api_key=\" + API_KEY_3 + \"&language=en-En&sort_by=\" + this.state.sort_by + \"&page=\" + this.state.currentPage)\r\n      .then(response => response.json())\r\n      .then(data => \r\n        this.setState({\r\n          movies: data.results,\r\n          totalPages: data.total_pages\r\n        })\r\n      )\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.sort_by !== this.state.sort_by || prevState.currentPage !== this.state.currentPage) {\r\n      this.getMovies();\r\n    }\r\n  }\r\n\r\n  deleteMovie = movie => {\r\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      item => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                <MovieTabs sortBy={this.state.sort_by} updateSortBy={this.updateSortBy} />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col offset-md-4\">\r\n            <PaginationItem \r\n              currentPage = {this.state.currentPage}\r\n              totalPages = {this.state.totalPages}\r\n              switherPage = {this.switherPage}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}